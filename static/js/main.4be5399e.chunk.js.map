{"version":3,"sources":["components/Main/index.js","components/App/index.js","serviceWorker.js","index.js"],"names":["Main","imgRef","useRef","canvasRef","colorBlockRef","useState","ctx","setCtx","hex","setHex","r","setR","g","setG","b","setB","file","setFile","fileSelector","setFileSelector","colorBlockHidden","setColorBlockHidden","x","y","colorBlockPos","setColorBlockPos","useEffect","current","getContext","document","createElement","type","onchange","e","console","log","URL","createObjectURL","target","files","style","backgroundColor","left","top","visibility","Container","className","Row","Col","Input","onClick","click","re","ref","src","Button","color","width","height","drawImage","onMouseMove","canvas","evt","rect","getBoundingClientRect","clientX","clientY","getMousePosFromCanvas","p","getImageData","data","rgbArr","i","length","hexStr","Number","toString","rgbToHex","onMouseOver","img","onMouseLeave","Card","CardBody","CardSubtitle","CardText","App","Boolean","window","location","hostname","match","ReactDOM","render","heigt","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.4be5399e.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport \"./styles.scss\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Card,\r\n  CardImg,\r\n  CardText,\r\n  CardBody,\r\n  CardTitle,\r\n  CardSubtitle,\r\n  Row,\r\n  Col,\r\n  Input,\r\n  Label\r\n} from \"reactstrap\";\r\n\r\nconst rgbToHex = function(rgbArr) {\r\n  let hex = \"\";\r\n  for (let i = 0; i < rgbArr.length; i++) {\r\n    const hexStr = Number(rgbArr[i]).toString(16);\r\n    hex += hexStr.length < 2 ? \"0\" + hexStr : hexStr;\r\n  }\r\n  return hex;\r\n};\r\n\r\nconst getMousePosFromCanvas = (canvas, evt) => {\r\n  const rect = canvas.getBoundingClientRect();\r\n  return {\r\n    x: evt.clientX - rect.left,\r\n    y: evt.clientY - rect.top\r\n  };\r\n};\r\n\r\nconst Main = () => {\r\n  const imgRef = useRef();\r\n  const canvasRef = useRef();\r\n  const colorBlockRef = useRef();\r\n\r\n  const [ctx, setCtx] = useState(null);\r\n  const [hex, setHex] = useState(\"#000000\");\r\n  const [r, setR] = useState(\"\");\r\n  const [g, setG] = useState(\"\");\r\n  const [b, setB] = useState(\"\");\r\n  const [file, setFile] = useState(null);\r\n  const [fileSelector, setFileSelector] = useState(null);\r\n  const [colorBlockHidden, setColorBlockHidden] = useState(true);\r\n  const [colorBlockPos, setColorBlockPos] = useState({ x: 0, y: 0 });\r\n\r\n  const imageToCanvas = () => {\r\n    canvasRef.current.width = imgRef.current.width;\r\n    canvasRef.current.height = imgRef.current.height;\r\n\r\n    const ctx = canvasRef.current.getContext(\"2d\");\r\n    ctx.drawImage(imgRef.current, 0, 0);\r\n  };\r\n\r\n  const handleMouseCanvas = e => {\r\n    if (!ctx) {\r\n      return;\r\n    }\r\n\r\n    const { x, y } = getMousePosFromCanvas(canvasRef.current, e);\r\n    const p = ctx.getImageData(x, y, 1, 1).data;\r\n\r\n    try {\r\n      if (p[3] == 0) {\r\n        setColorBlockHidden(true);\r\n      } else {\r\n        setColorBlockHidden(false);\r\n      }\r\n    } catch (e) {}\r\n\r\n    setColorBlockPos({ x: e.clientX, y: e.clientY });\r\n    setHex(\"#\" + rgbToHex([p[0], p[1], p[2]]));\r\n    setR(p[0]);\r\n    setG(p[1]);\r\n    setB(p[2]);\r\n  };\r\n\r\n  const openFileDialog = () => {\r\n    //console.log(fileSelector);\r\n    fileSelector.click();\r\n\r\n    console.log(fileSelector.re);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setCtx(canvasRef.current.getContext(\"2d\"));\r\n    const fileSelector = document.createElement(\"input\");\r\n    fileSelector.type = \"file\";\r\n    fileSelector.onchange = e => {\r\n      console.log(URL.createObjectURL(e.target.files[0]));\r\n      setFile(URL.createObjectURL(e.target.files[0]));\r\n\r\n      //URL.create;\r\n    };\r\n\r\n    setFileSelector(fileSelector);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    colorBlockRef.current.style.backgroundColor = hex;\r\n    //console.log(hex);\r\n  }, [hex]);\r\n\r\n  useEffect(() => {\r\n    const { x, y } = colorBlockPos;\r\n\r\n    colorBlockRef.current.style.left = `${x + 20}px`;\r\n    colorBlockRef.current.style.top = `${y}px`;\r\n  }, [colorBlockPos]);\r\n\r\n  useEffect(() => {\r\n    colorBlockRef.current.style.visibility = colorBlockHidden\r\n      ? \"hidden\"\r\n      : \"visible\";\r\n  }, [colorBlockHidden]);\r\n\r\n  return (\r\n    <Container className=\"main-container\">\r\n      <div className=\"title animated fadeOutLeft text-center\">\r\n        I M A G E <br /> C R O P P E R\r\n      </div>\r\n      <Row className=\"input-form\">\r\n        <Col>\r\n          <Input\r\n            type=\"text\"\r\n            className=\"rounded shadow\"\r\n            onClick={openFileDialog}\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <hr />\r\n      <img ref={imgRef} src={file} />\r\n      <br />\r\n      <Button\r\n        color=\"white\"\r\n        className=\"rounded shadow font-weight-bold convert-btn\"\r\n        onClick={imageToCanvas}\r\n      >\r\n        CONVERT\r\n      </Button>\r\n      <br />\r\n      <canvas\r\n        onMouseMove={handleMouseCanvas}\r\n        onMouseOver={() => {\r\n          if (colorBlockHidden) {\r\n            if (canvasRef.current.getContext.img != null) {\r\n              setColorBlockHidden(false);\r\n            } else {\r\n              setColorBlockHidden(true);\r\n            }\r\n          }\r\n        }}\r\n        onMouseLeave={() => {\r\n          if (!colorBlockHidden) {\r\n            setColorBlockHidden(true);\r\n          }\r\n        }}\r\n        ref={canvasRef}\r\n      ></canvas>\r\n      <div className=\"color-block\" ref={colorBlockRef}>\r\n        <Card className=\"card\">\r\n          <CardBody className=\"card-body\">\r\n            <CardSubtitle>Hex Details</CardSubtitle>\r\n            <CardText>Hex : {hex}</CardText>\r\n            <CardSubtitle>RGB Details</CardSubtitle>\r\n            <CardText>\r\n              R : {r}\r\n              <br />G : {g}\r\n              <br />B : {b}\r\n            </CardText>\r\n          </CardBody>\r\n        </Card>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useRef, useState, useEffect } from \"react\";\nimport \"./styles.css\";\nimport Header from \"../Header\";\nimport Main from \"../Main\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      {/* <Header /> */}\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"animate.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App heigt=\"100%\" />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}